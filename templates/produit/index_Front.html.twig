
{% extends 'base.html.twig' %}



{% block title %}Store{% endblock %}

   {% block navBar %}
        <!-- ***** Header Area Start ***** -->
        <header class="header-area header-sticky wow slideInDown" data-wow-duration="0.75s" data-wow-delay="0s">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <nav class="main-nav">
                            <!-- ***** Logo Start ***** -->
                            <a href="{{ path('app_front_office_home') }}" class="logo">
                                <img src="{{ asset('FrontOffice/assets/images/logo-v2.png') }}" alt="">
                            </a>
                            <!-- ***** Logo End ***** -->
                            <!-- ***** Menu Start ***** -->
                            <ul class="nav">
                                <li class="scroll-to-section"><a href="#top" >Home</a></li>
                                <li class="scroll-to-section"><a href="{{ path('app_business_index') }}">Services</a></li>
                                <li class="scroll-to-section"><a href="#services">Adoption</a></li>
                                <li class="scroll-to-section"><a href="#portfolio">Hub</a></li>
                                <li class="scroll-to-section">
                                <a href="#blog" class="active">Store</a>
                                </li>
                                <li class="scroll-to-section" > <a  href="{{ path('app_panier_index') }}" class="fa fa-shopping-cart" style="font-size:30px;color:black"></a> </li>
                                <li class="scroll-to-section"><a>Sign in</a></li>
                                <li class="scroll-to-section"><div class="border-first-button"><a href="#contact">Sign up</a></div></li>
                            </ul>
                            <a class='menu-trigger'>
                                <span>Menu</span>
                            </a>
                            <!-- ***** Menu End ***** -->
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <!-- ***** Header Area End ***** -->

    {% endblock %}

{% block body %} 
    
    <h1 >Products List</h1>
<div>.</div>
    <div></div>
    <div></div><div></div>.
    <div></div><div></div>
    <div></div>



 {% for message in app.flashes('success') %}
            <div class="alert alert-success">
                {{ message }}
            </div>
        {% endfor %}
<div>
 <div class="sidebar-search">
    <div class="input-group custom-search-form" style="padding-top:7%">
        <input type="text" id="search" class="form-control" placeholder="Search for a product">
    </div>
    <!-- /input-group -->
</div>
    <ul class="nav" id="side-menu">
        <li>
            <a href="#"> Search Results<span class="fa arrow"></span></a>
            <ul class="nav nav-second-level" >
            </ul>
        </li>
    </ul><br><br><br><br>
   
 
   <div>
   <div>
    <p style="padding-left:40px;text-align:left">Sort:</p>
    <div>
        <form id="filters" style="padding-left:40px;text-align:left" >
            {% for categorie in categories %}
                <p> <input type="checkbox" name="categories[]" id="cat{{categorie.idcategorie}}" value=" {{categorie.idcategorie}}"  >
                <label for="cat {{categorie.idcategorie }}" > {{categorie.nom}} </label> </p>
  
            {% endfor %}
        </form>
    </div>
  
     <div id="blog" class="blog">

        <div class="container">
            <div class="row" id="content">
        {% include "produit/_content.html.twig" %}

        </div>
        </div>
        </div>

  </div>
          
   

        
    <style>
 
/* CSS */
.wrapper {
    position: center;
    display: flex;
    min-width: 100px;
  }

/* CSS */
.butt {
  
  
  margin: 10px;
  padding: 15px 30px;
  text-align: center;
  text-transform: uppercase;
  transition: 0.5s;
  background-size: 200% auto;
  color: white;
  border-radius: 10px;
  display: block;
  border: 0px;
  font-weight: 700;
  box-shadow: 0px 0px 14px -7px #f09819;
  background-image: linear-gradient(45deg, #FF512F 0%, #F09819  51%, #FF512F  100%);
  cursor: pointer;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
}

.butt:hover {
  background-position: right center;
  /* change the direction of the change here */
  color: #fff;
  text-decoration: none;
}

.butt:active {
  transform: scale(0.95);
}
</style>

       {% endblock %}

 

{% block javascripts %}
   

   <script src="{{ asset('assets/js/filters.js') }}" type="text/javascript"></script>

   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <script type="text/javascript">
        jQuery(document).ready(function() {
            var searchRequest = null ;
            $("#search").keyup(function() {
                var minlength = 0;
                var that = this;
                var value = $(this).val();
                var entitySelector = $("#entitiesNav").html('');
                if (value.length >= minlength ) {
                    if (searchRequest != null)
                        searchRequest.abort();
                    searchRequest = $.ajax({
                        type: "GET",
                        url: "{{ path('ajax_search') }}",
                        data: {
                            'l' : value
                        },
                        dataType: "text",
                        success: function(msg){
                            //we need to check if the value is the same
                            if (value==$(that).val()) {
                                var result = JSON.parse(msg);
                                $.each(result, function(key, arr) {
                                    $.each(arr, function(id, value) {
                                        if (key == 'produits') {
                                            if (id != 'error') {



                                               entitySelector.append('  <div class="col-lg-3 show-up wow fadeInUp" data-wow-duration="1s" data-wow-delay="0.3s" > '+

                            '<div class="blog-post">'+
                                '<div class="thumb">'+
                        
                           ' <a href="#"><img src="/FrontOffice/assets/images/store/'+value[5]+'.jpg" alt=""></a>'+
                                '</div>'+
                             '<div class="down-content">'+
                            
                             ' <span class="nom">'+value[0]+'</span>'+
                                '<span class="s" style="padding-left:50px;font-weight: bold;color:#f46c38">'+value[1]+' DT</span>'+
                                '<p>'+value[3]+'}</p>'+
                               ' <span class="category">'+value[4]+'</span>'+
                               ' <span class="marque" style="padding-left:50px" >'+value[2]+'</span>'+
                                ' <a href="/panier/add/'+value[6]+'" class="butt">Add To Cart</a>'+
                                
                           ' </div> ');
                            
                            
                    
                                            } else {
                                                entitySelector.append('<li class="errorLi">'+value+'</li>');
                                            }
                                        }
                                    });
                                });
                            }
                        }
                    });
                }
            });
        });
    </script>
{% endblock %}   
